<!doctype html>
<html lang="en"  xmlns:th="http://www.thymeleaf.org" th:replace="~{normal/base::layout(~{::section})}">
<head>
	<meta charset="UTF-8" />
	<title>Document</title>
</head>
<body>
	<section>
		<div th:if="${session.message}" th:classappend="${'alert-' + session.message.type}" class="alert mr-4 text-center" role="alert">
		  <span th:text="${session.message.content}"></span>
			<th:block th:text="${@sessionHelper.removeMessage()}"> </th:block>
		</div>
		
		<div class="card mr-4">
			<i class="fas fa-bars m-3" onclick="toggleSideBar()"></i>
			<div class="card-body">
			<h1 class="text-center">Update Contact</h1>
			<div class="container-fluid mt-1"></div>
				<div class="row">
					<div class="col-md-8 offset-md-2">
						<form action="#" 
							th:object="${contact}" 
							enctype="multipart/form-data" 
							method="post" 
							th:action="@{/user/process-update}"
							class="mt-2">
				      		<input type="hidden" th:value="${contact.cid}" name="cid"/>
				      		
						      <div class="input-group">
						        <div class="input-group-prepend">
						          <div class="input-group-text"><i class="fa fa-plus"></i></div>
						        </div>
						        <input required th:value="${contact.name}" type="text" name="name" id="name" class="form-control" placeholder="Enter name here">
						      </div>
						      
						      <div class="input-group mt-3">
						        <div class="input-group-prepend">
						          <div class="input-group-text"><i class="fas fa-user-alt"></i></div>
						        </div>
						        <input required th:value="${contact.secondName}" type="text" name="secondName" id="secondName" class="form-control" placeholder="Enter nick name here">
						      </div>
						      
						      <div class="input-group mt-3">
						        <div class="input-group-prepend">
						          <div class="input-group-text"><i class="fa fa-phone"></i></div>
						        </div>
						        <input required th:value="${contact.phone}" type="number" name="phone" id="phone" class="form-control" placeholder="Enter phone number here">
						      </div>
							      
						      <div class="input-group mt-3">
						        <div class="input-group-prepend">
						          <div class="input-group-text">@</div>
						        </div>
						        <input required th:value="${contact.email}" type="email" name="email" id="email" class="form-control" placeholder="Enter email here">
						      </div>
						      
						      <div class="input-group mt-3">
						        <div class="input-group-prepend">
						          <div class="input-group-text"><i class="fa fa-briefcase"></i></div>
						        </div>
						        <input required type="text" th:value="${contact.work}" name="work" id="work" class="form-control" placeholder="Enter work here">
						      </div>
						      
						      <div class="gorm-group mt-3 mb-3">
						        <textarea name="description" th:text="${contact.description}" id="myTextarea" class="form-control" rows="6" placeholder="Enter contact description"></textarea>
						      </div>
						      
						      <div class="container text-center">
						      	<img class="edit-profile-image" src="" th:src="@{'/img/'+${contact.image}}" />
						      </div>
						      
						      <div class="custom-file">
						      	<input type="file" name="profileImage"/>
						      </div>
						      <p class="text-secondary"> Choose a new proflie picture</p>
						      <div class="container text-center">
						      	<button class="btn btn-outline-primary">Save Contact</button>
						      </div>
						      
						</form>
					</div>
				</div>
			</div>
		</div>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/tinymce/6.4.2/tinymce.min.js" integrity="sha512-sWydClczl0KPyMWlARx1JaxJo2upoMYb9oh5IHwudGfICJ/8qaCyqhNTP5aa9Xx0aCRBwh71eZchgz0a4unoyQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
		<script>
			tinymce.init({
			  selector: '#myTextarea'  // change this value according to your HTML
			});
		</script>
	</section>
</body>
</html>